head	1.4;
access;
symbols;
locks
	jordan:1.4; strict;
comment	@# @;


1.4
date	2012.02.21.09.46.31;	author jordan;	state Exp;
branches;
next	1.3;

1.3
date	2012.02.08.06.17.19;	author jordan;	state Exp;
branches;
next	1.2;

1.2
date	2012.02.01.05.15.55;	author root;	state Exp;
branches;
next	1.1;

1.1
date	2012.01.25.05.27.12;	author jordan;	state Exp;
branches;
next	;


desc
@@


1.4
log
@*** empty log message ***
@
text
@<script language="javascript">

function login() {
   email = jQuery("#username").val();
   sendRequest("/a/login", "");
}

var uID;
var email;

function sendPasswordUpdate() {
   sendRequest("/a/passwordupdate", "&uid=" + uID + "&email=" + email);
}

function sendRequest(url, extraparams) {
    var params = jQuery("#loginForm").serialize();

    params += extraparams;

    jQuery.ajax({
     url: url + "?" + params,
     dataType: 'json',
     success: function(result) {
        if (result.message) {
          var feedback = jQuery("#loginFeedback");
          feedback.html(result.message);
        }
        if (result.newpage) {
          if (result.userId) {
            uID = result.userId;
          }

          var formArea = jQuery("#formWrapper");

          formArea.hide();
          formArea.html(result.newpage);
          formArea.fadeIn();            
        }
	if (result.title) {
          jQuery("#cboxTitle").html(result.title);
        }

        if (result.status == "1") {
          window.location.reload();
        }
     }
   });
}

function resetForm() {
   uID = "";
   email = "";

}

</script>

<div id="initialForm" style="display:none">
</div>

<div id="formWrapper">
   <?php print drupal_render(drupal_get_form('brick_login_form')); ?>
</div>


@


1.3
log
@*** empty log message ***
@
text
@d33 1
a33 1
          var formArea = jQuery("#loginForm");
d37 1
a37 1
          formArea.fadeIn();
d39 4
a53 3
   var formArea = jQuery("#loginForm");

   formArea.html(jQuery("#standardLogin").html());
d58 2
a59 2
<form id="loginForm" class="popupForm">
</form>
d61 2
a62 32
<div id="standardLogin" style="display:none">
 
  <h3 class="loginHeader">Email Address</h3>

  <div>
  <label id="emailLabel" for="username">
     This is My Email:
  </label>
  <input id="username" name="username" width="250px" class="form-text" size="40"/>
  </div>

  <h3 class="loginHeader">Password</h3>

  <input class="loginScreenRadios" id="dohavepw" value="dohavepw" type = "radio" name="havepassword" checked/>
  <label for="dohavepw">
     This is My Password:
  </label>
  
  <input id="password" type="password" name="password" width="250px" size="40" class="form-text"/>
 
  <div>
  <input class="loginScreenRadios" type = "radio" name="havepassword" id="nopw" value="nopw"/>
   <label for="nopw">
    I'm a new user or I don't have a password yet
  </label>
  </div>

  <div class="buttonArea">
    <input type="button" class="form-submit" onclick="login()" value="Sign In"></input>
    <span id="loginFeedback"></span>
    <a id="forgotPwLink" href="javascript:forgotpw()">I forgot my password</a>
  </div>
d65 1
@


1.2
log
@*** empty log message ***
@
text
@d4 1
d9 1
d12 1
a12 1
   sendRequest("/a/passwordupdate", "&uid=" + uID);
d48 1
d61 6
a66 2
  <label for="username">
     Email:
d69 1
d71 5
a75 2
  <label for="password">
     Password:
d77 1
a77 1

d79 7
d87 4
a90 3
  <div>
    <input type="button" class="form-submit" onclick="login()" value="Login"></input>
    <span id="loginFeedback"/>
@


1.1
log
@Initial revision
@
text
@d54 1
a54 1
<form id="loginForm">
@
